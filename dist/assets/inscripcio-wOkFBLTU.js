function c(){const t=document.getElementById("registrationForm"),e=document.getElementById("output"),n=document.getElementById("btnSubmit");t&&t.addEventListener("submit",async o=>{o.preventDefault(),n.disabled=!0,n.textContent="Enviant...",e.style.display="none";const a=new FormData(t),i=Object.fromEntries(a.entries());try{const r=await(await fetch("/api/registerNewUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dades:i})})).json();if(r.status==="ok")e.className="success",e.textContent="Inscripció enviada correctament! Aviat rebràs notícies.",t.reset();else throw new Error(r.message||"Error desconegut del servidor.")}catch(s){e.className="error",e.textContent=`Error: ${s.message}`}finally{e.style.display="block",n.disabled=!1,n.textContent="Envia la Inscripció"}})}export{c as inscripcioPage};
